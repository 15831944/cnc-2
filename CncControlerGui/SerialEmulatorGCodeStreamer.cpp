#include <wx/file.h>
#include "SerialEmulatorGCodeStreamer.h"

///////////////////////////////////////////////////////////////////
SerialEmulatorGCodeStreamer::SerialEmulatorGCodeStreamer(CncControl* cnc)
: SerialEmulatorTextStreamer(cnc)
///////////////////////////////////////////////////////////////////
{
}
///////////////////////////////////////////////////////////////////
//Initialize Serial communication with the given COM port
SerialEmulatorGCodeStreamer::SerialEmulatorGCodeStreamer(const char* fileName) 
: SerialEmulatorTextStreamer(fileName)
///////////////////////////////////////////////////////////////////
{
}
///////////////////////////////////////////////////////////////////
SerialEmulatorGCodeStreamer::~SerialEmulatorGCodeStreamer() {
///////////////////////////////////////////////////////////////////
}
///////////////////////////////////////////////////////////////////
bool SerialEmulatorGCodeStreamer::writeEncodedMoveCallback(const MoveInfo& mi) {
///////////////////////////////////////////////////////////////////
	
	return true;
}
///////////////////////////////////////////////////////////////////
bool SerialEmulatorGCodeStreamer::writeEncodedSetterCallback(const SetterInfo& si) {
///////////////////////////////////////////////////////////////////
	
	return true;
}
///////////////////////////////////////////////////////////////////
void SerialEmulatorGCodeStreamer::initializeFile(const Serial::Trigger::BeginRun& tr) {
///////////////////////////////////////////////////////////////////
	bodyStream << "(<File start>)\n";
	
	bodyStream << "(<Programm start>)\n";
	bodyStream << "G17 G40\n";
	bodyStream << "G80\n";
	bodyStream << "G90\n";
	bodyStream << "T01 M6\n";
	bodyStream << "S0 F700 M3\n";
	bodyStream << "G43 H07\n";
}
///////////////////////////////////////////////////////////////////
void SerialEmulatorGCodeStreamer::finalizeFile(const Serial::Trigger::EndRun& tr) {
///////////////////////////////////////////////////////////////////
	bodyStream << "M2\n";
	bodyStream << "(<File end>)\n";
}

