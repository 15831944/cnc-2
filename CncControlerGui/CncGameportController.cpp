#include "GlobalFunctions.h"
#include "CncGameportController.h"

//////////////////////////////////////////////////////////////////
CncGameportController::CncGameportController(wxWindow* parent)
: CncGameportControllerBase(parent)
, cncGamepadState(NULL)
//////////////////////////////////////////////////////////////////
{
	cncGamepadState = new CncGamepadControllerState(this); 
	GblFunc::replaceControl(m_gamepadState, cncGamepadState);
}
//////////////////////////////////////////////////////////////////
CncGameportController::~CncGameportController() {
//////////////////////////////////////////////////////////////////
	delete cncGamepadState;
}
//////////////////////////////////////////////////////////////////
void CncGameportController::onClose(wxCommandEvent& event) {
//////////////////////////////////////////////////////////////////
	Show(false);
}
//////////////////////////////////////////////////////////////////
void CncGameportController::trace(const wxString& msg) {
//////////////////////////////////////////////////////////////////
	wxASSERT(cncGamepadState != NULL);
	cncGamepadState->GetGamepadTrace()->ChangeValue(msg);
}
//////////////////////////////////////////////////////////////////
void CncGameportController::update(const GamepadEvent& state) {
//////////////////////////////////////////////////////////////////
	wxASSERT(cncGamepadState != NULL);
	cncGamepadState->update(state);
}
