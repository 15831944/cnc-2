#include "BinaryPathHandlerCnc.h"

/////////////////////////////////////////////////////////////
BinaryPathHandlerCnc::BinaryPathHandlerCnc(CncControl* cnc) 
: BinaryPathHandlerBase()
, cncControl(cnc)
/////////////////////////////////////////////////////////////
{
}
/////////////////////////////////////////////////////////////
BinaryPathHandlerCnc::~BinaryPathHandlerCnc() {
/////////////////////////////////////////////////////////////
}
/////////////////////////////////////////////////////////////
bool BinaryPathHandlerCnc::processCommand(const unsigned char* buffer, int nbBytes) {
/////////////////////////////////////////////////////////////
	if ( nbBytes <= 0 || buffer == NULL)
		return true;

	return cncControl->getSerial()->execute(buffer, nbBytes);
}
/////////////////////////////////////////////////////////////
void BinaryPathHandlerCnc::initNextClientId(long id) {
/////////////////////////////////////////////////////////////
	wxASSERT(cncControl);
	cncControl->setClientId(id);
}
/////////////////////////////////////////////////////////////
void BinaryPathHandlerCnc::logMeasurementStart() {
/////////////////////////////////////////////////////////////
	wxASSERT(cncControl);
	cncControl->getSerial()->startMeasurement();
}
/////////////////////////////////////////////////////////////
void BinaryPathHandlerCnc::logMeasurementEnd() {
/////////////////////////////////////////////////////////////
	wxASSERT(cncControl);
	cncControl->getSerial()->stopMeasurement();
}


